<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Megan API - Elite Developer Toolbox</title>
    <link rel="stylesheet" href="/assets/css/output.css">
    <script src="https://cdn.jsdelivr.net/npm/@lucide/lucide@latest/dist/umd/lucide.min.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, ref, onValue, set, increment, update } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyDBXXhrXOI_bpnJg1J8Qt6c0EarSnPmfeo",
            authDomain: "api-megan.firebaseapp.com",
            projectId: "api-megan",
            storageBucket: "api-megan.firebasestorage.app",
            messagingSenderId: "53082053296",
            appId: "1:53082053296:web:7a90b63915b1119d583975",
            measurementId: "G-Z06BM7YES2"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
        
        window.firebaseDB = database;
        window.firebaseRef = ref;
        window.firebaseOnValue = onValue;
        window.firebaseSet = set;
        window.firebaseIncrement = increment;
        window.firebaseUpdate = update;
        
        console.log('üî• Firebase initialized successfully');
    </script>
</head>
<body class="bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 min-h-screen text-gray-100 overflow-x-hidden"
      x-data="dashboardApp()"
      x-init="init()">
    
    <!-- Animated Background -->
    <div class="fixed inset-0 z-0 overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950"></div>
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse-slow"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse-slow animation-delay-1000"></div>
        <div class="absolute top-3/4 left-3/4 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl animate-pulse-slow animation-delay-2000"></div>
    </div>

    <!-- Main Content -->
    <div class="relative z-10">
        <!-- Header -->
        <header class="backdrop-blur-xl bg-gray-900/50 border-b border-gray-800 sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center animate-glow">
                                <i data-lucide="cpu" class="w-7 h-7 text-white"></i>
                            </div>
                            <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full animate-pulse"></div>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-300 bg-clip-text text-transparent">
                                Megan API
                            </h1>
                            <p class="text-sm text-gray-400">Elite Developer Toolbox</p>
                        </div>
                    </div>
                    
                    <div class="hidden md:flex items-center space-x-6">
                        <a href="/dashboard" class="text-gray-300 hover:text-white transition flex items-center space-x-2 group">
                            <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                            <span class="group-hover:underline">Dashboard</span>
                        </a>
                        <a href="/api" class="text-gray-300 hover:text-white transition flex items-center space-x-2 group">
                            <i data-lucide="book-open" class="w-5 h-5"></i>
                            <span class="group-hover:underline">API Docs</span>
                        </a>
                        <a href="/wanga" class="text-gray-300 hover:text-white transition flex items-center space-x-2 group">
                            <i data-lucide="contact" class="w-5 h-5"></i>
                            <span class="group-hover:underline">Contact</span>
                        </a>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <button @click="toggleDarkMode()" class="p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition">
                            <i data-lucide="sun" class="w-5 h-5 hidden dark:block"></i>
                            <i data-lucide="moon" class="w-5 h-5 block dark:hidden"></i>
                        </button>
                        <a href="/dashboard" class="bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-6 py-2.5 rounded-lg font-semibold hover:shadow-2xl hover:shadow-blue-500/30 transition-all transform hover:-translate-y-0.5">
                            Launch Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="container mx-auto px-6 py-12 md:py-20">
            <div class="text-center max-w-4xl mx-auto mb-16">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
                    <span class="bg-gradient-to-r from-blue-400 via-cyan-300 to-purple-400 bg-clip-text text-transparent animate-gradient" 
                          style="background-size: 200% 200%;">
                        Build Like a Pro
                    </span>
                </h1>
                <p class="text-xl text-gray-400 mb-10 max-w-2xl mx-auto">
                    43+ powerful APIs with real-time monitoring, glassmorphic UI, and professional analytics.
                    Everything you need to build faster.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-20">
                    <a href="/dashboard" 
                       class="group relative overflow-hidden bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-500 transform hover:-translate-y-1">
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-700 to-cyan-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                        <span class="relative flex items-center justify-center space-x-2">
                            <i data-lucide="rocket" class="w-6 h-6 animate-float"></i>
                            <span>Explore Dashboard</span>
                        </span>
                    </a>
                    
                    <a href="/wanga" 
                       class="group bg-gray-800/50 backdrop-blur-sm border border-gray-700 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-700/50 hover:border-gray-600 transition-all duration-300">
                        <span class="flex items-center justify-center space-x-2">
                            <i data-lucide="message-circle" class="w-6 h-6"></i>
                            <span>Connect with Wanga</span>
                        </span>
                    </a>
                </div>
            </div>

            <!-- Real-time Stats Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <!-- Server Status Card -->
                <div class="glass-card group">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <i data-lucide="server" class="w-6 h-6 text-blue-400"></i>
                                <h3 class="font-bold text-lg">Server Status</h3>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                <span class="text-green-400 font-semibold" x-text="serverStatus"></span>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-blue-300">43</div>
                            <div class="text-sm text-gray-400">Endpoints</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Response Time</span>
                            <span class="text-green-400" x-text="responseTime + 'ms'"></span>
                        </div>
                        <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-green-500 to-cyan-400" 
                                 :style="'width: ' + (responseTime < 100 ? '100' : (500-responseTime)/5) + '%'"></div>
                        </div>
                    </div>
                </div>

                <!-- RAM Usage Card -->
                <div class="glass-card group">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <i data-lucide="cpu" class="w-6 h-6 text-purple-400"></i>
                                <h3 class="font-bold text-lg">RAM Usage</h3>
                            </div>
                            <div class="text-sm text-gray-400">Server Memory</div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-purple-300" x-text="ramUsage + '%'"></div>
                            <div class="text-sm text-gray-400">Used</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400" x-text="ramUsed + 'MB / ' + ramTotal + 'MB'"></span>
                            <span class="text-purple-400" x-text="ramRemaining + 'MB left'"></span>
                        </div>
                        <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-purple-500 to-pink-400" 
                                 :style="'width: ' + ramUsage + '%'"></div>
                        </div>
                    </div>
                </div>

                <!-- Uptime Counter Card -->
                <div class="glass-card group">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <i data-lucide="clock" class="w-6 h-6 text-cyan-400"></i>
                                <h3 class="font-bold text-lg">System Uptime</h3>
                            </div>
                            <div class="text-sm text-gray-400">Since last deploy</div>
                        </div>
                        <i data-lucide="refresh-cw" @click="resetUptime()" class="w-5 h-5 text-gray-400 hover:text-cyan-400 cursor-pointer"></i>
                    </div>
                    <div class="space-y-3">
                        <div class="grid grid-cols-4 gap-2 text-center">
                            <div>
                                <div class="text-2xl font-bold text-cyan-300" x-text="uptime.days"></div>
                                <div class="text-xs text-gray-400">DAYS</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-cyan-300" x-text="uptime.hours"></div>
                                <div class="text-xs text-gray-400">HOURS</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-cyan-300" x-text="uptime.minutes"></div>
                                <div class="text-xs text-gray-400">MINUTES</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-cyan-300" x-text="uptime.seconds"></div>
                                <div class="text-xs text-gray-400">SECONDS</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Requests Card -->
                <div class="glass-card group">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <i data-lucide="activity" class="w-6 h-6 text-green-400"></i>
                                <h3 class="font-bold text-lg">API Requests</h3>
                            </div>
                            <div class="text-sm text-gray-400">Live counter</div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-green-300" x-text="apiRequests"></div>
                            <div class="text-sm text-gray-400">Today</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Rate Limit</span>
                            <span class="text-yellow-400">500/hour</span>
                        </div>
                        <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-green-500 to-emerald-400" 
                                 :style="'width: ' + Math.min((apiRequests/500)*100, 100) + '%'"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Second Stats Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- User Location Card -->
                <div class="glass-card group">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 bg-blue-500/20 rounded-lg">
                                <i data-lucide="map-pin" class="w-6 h-6 text-blue-400"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">Your Location</h3>
                                <p class="text-sm text-gray-400" x-text="userLocation.city || 'Detecting...'"></p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xs px-2 py-1 bg-gray-800 rounded-full text-gray-300" x-text="userLocation.country || ''"></div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">IP Address</span>
                            <span class="text-blue-400 font-mono" x-text="userIp"></span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">ISP Provider</span>
                            <span class="text-gray-300" x-text="userISP || 'Unknown'"></span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Time Zone</span>
                            <span class="text-gray-300" x-text="userTimeZone"></span>
                        </div>
                    </div>
                </div>

                <!-- Device & Battery Card -->
                <div class="glass-card group">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 bg-purple-500/20 rounded-lg">
                                <i data-lucide="smartphone" class="w-6 h-6 text-purple-400"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">Device Info</h3>
                                <p class="text-sm text-gray-400" x-text="deviceInfo.platform || 'Web Browser'"></p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold" :class="batteryLevel > 50 ? 'text-green-400' : batteryLevel > 20 ? 'text-yellow-400' : 'text-red-400'" 
                                  x-text="batteryLevel + '%'"></div>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Battery Status</span>
                                <span class="text-gray-300" x-text="batteryCharging ? 'Charging' : 'Discharging'"></span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full transition-all duration-500" 
                                     :class="batteryLevel > 50 ? 'bg-gradient-to-r from-green-500 to-emerald-400' : batteryLevel > 20 ? 'bg-gradient-to-r from-yellow-500 to-amber-400' : 'bg-gradient-to-r from-red-500 to-pink-400'"
                                     :style="'width: ' + batteryLevel + '%'"></div>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="text-center p-2 bg-gray-800/50 rounded-lg">
                                <div class="text-gray-400">Browser</div>
                                <div class="font-semibold" x-text="deviceInfo.browser"></div>
                            </div>
                            <div class="text-center p-2 bg-gray-800/50 rounded-lg">
                                <div class="text-gray-400">OS</div>
                                <div class="font-semibold" x-text="deviceInfo.os"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Network & Time Card -->
                <div class="glass-card group">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 bg-cyan-500/20 rounded-lg">
                                <i data-lucide="wifi" class="w-6 h-6 text-cyan-400"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">Network & Time</h3>
                                <p class="text-sm text-gray-400">Live updates</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-cyan-300 animate-pulse" x-text="currentTime.time"></div>
                            <div class="text-xs text-gray-400" x-text="currentTime.date"></div>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Connection</span>
                                <span :class="networkOnline ? 'text-green-400' : 'text-red-400'"
                                      x-text="networkOnline ? 'Online' : 'Offline'"></span>
                            </div>
                            <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-cyan-500 to-blue-400" 
                                     :style="'width: ' + (networkOnline ? '100' : '0') + '%'"></div>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="text-center p-2 bg-gray-800/50 rounded-lg">
                                <div class="text-gray-400">Latency</div>
                                <div class="font-semibold text-green-400" x-text="networkLatency + 'ms'"></div>
                            </div>
                            <div class="text-center p-2 bg-gray-800/50 rounded-lg">
                                <div class="text-gray-400">Timezone</div>
                                <div class="font-semibold" x-text="Intl.DateTimeFormat().resolvedOptions().timeZone"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="mt-20 border-t border-gray-800 bg-gray-900/30 backdrop-blur-sm">
            <div class="container mx-auto px-6 py-12">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <!-- Kenya Pride -->
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="flex space-x-1">
                                <div class="w-3 h-5 bg-black rounded-sm"></div>
                                <div class="w-3 h-5 bg-red-600 rounded-sm"></div>
                                <div class="w-3 h-5 bg-green-600 rounded-sm"></div>
                                <div class="w-3 h-5 bg-white rounded-sm border border-gray-700"></div>
                            </div>
                            <div>
                                <div class="font-bold text-white">Kenya Programming</div>
                                <div class="text-sm text-gray-400">Made with ‚ù§Ô∏è in Kenya</div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="inline-flex items-center space-x-2 bg-gray-800/50 px-3 py-1.5 rounded-lg">
                                <i data-lucide="shield" class="w-4 h-4 text-blue-400"></i>
                                <span class="text-sm">MIT License</span>
                            </div>
                            <div class="text-sm text-gray-400 mt-4">
                                ¬© 2024-2026 Megan API. All rights reserved.
                            </div>
                        </div>
                    </div>

                    <!-- Social Media -->
                    <div>
                        <h4 class="font-bold text-lg mb-4 flex items-center space-x-2">
                            <i data-lucide="users" class="w-5 h-5"></i>
                            <span>Connect Socially</span>
                        </h4>
                        <div class="space-y-3">
                            <a href="https://facebook.com" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center group-hover:bg-blue-600/30 transition">
                                    <i data-lucide="facebook" class="w-4 h-4 text-blue-400"></i>
                                </div>
                                <span class="text-gray-300 group-hover:text-white">Facebook Tracker</span>
                            </a>
                            <a href="https://instagram.com" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="w-8 h-8 bg-pink-600/20 rounded-lg flex items-center justify-center group-hover:bg-pink-600/30 transition">
                                    <i data-lucide="instagram" class="w-4 h-4 text-pink-400"></i>
                                </div>
                                <span class="text-gray-300 group-hover:text-white">Instagram Tracker</span>
                            </a>
                            <a href="https://twitter.com" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="w-8 h-8 bg-gray-600/20 rounded-lg flex items-center justify-center group-hover:bg-gray-600/30 transition">
                                    <i data-lucide="twitter" class="w-4 h-4 text-gray-400"></i>
                                </div>
                                <span class="text-gray-300 group-hover:text-white">X (Twitter) Tracker</span>
                            </a>
                        </div>
                    </div>

                    <!-- WhatsApp -->
                    <div>
                        <h4 class="font-bold text-lg mb-4 flex items-center space-x-2">
                            <i data-lucide="message-circle" class="w-5 h-5 text-green-400"></i>
                            <span>WhatsApp Connect</span>
                        </h4>
                        <div class="space-y-3">
                            <a href="https://wa.me/254769502217" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="w-8 h-8 bg-green-600/20 rounded-lg flex items-center justify-center group-hover:bg-green-600/30 transition">
                                    <i data-lucide="phone" class="w-4 h-4 text-green-400"></i>
                                </div>
                                <div>
                                    <div class="text-gray-300 group-hover:text-white">Direct Message</div>
                                    <div class="text-xs text-gray-500">+254 769 502217</div>
                                </div>
                            </a>
                            <a href="https://chat.whatsapp.com/FtKp4i086Xc0X91t1MTjrU" target="_blank" 
                               class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="w-8 h-8 bg-green-600/20 rounded-lg flex items-center justify-center group-hover:bg-green-600/30 transition">
                                    <i data-lucide="users" class="w-4 h-4 text-green-400"></i>
                                </div>
                                <div>
                                    <div class="text-gray-300 group-hover:text-white">Developer Group</div>
                                    <div class="text-xs text-gray-500">Join Community</div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Contact Emails -->
                    <div>
                        <h4 class="font-bold text-lg mb-4 flex items-center space-x-2">
                            <i data-lucide="mail" class="w-5 h-5 text-cyan-400"></i>
                            <span>Contact Emails</span>
                        </h4>
                        <div class="space-y-3">
                            <a href="mailto:youngwanga254@gmail.com" 
                               class="block p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-300 group-hover:text-cyan-300">youngwanga254@gmail.com</span>
                                    <i data-lucide="external-link" class="w-4 h-4 text-gray-500 group-hover:text-cyan-400"></i>
                                </div>
                            </a>
                            <a href="mailto:wangaelijah2006@gmail.com" 
                               class="block p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-300 group-hover:text-cyan-300">wangaelijah2006@gmail.com</span>
                                    <i data-lucide="external-link" class="w-4 h-4 text-gray-500 group-hover:text-cyan-400"></i>
                                </div>
                            </a>
                            <a href="mailto:trackerwanga@gmail.com" 
                               class="block p-2 rounded-lg hover:bg-gray-800/50 transition group">
                                <div class="flex items-center justify-between">
                                    <span class="text-gray-300 group-hover:text-cyan-300">trackerwanga@gmail.com</span>
                                    <i data-lucide="external-link" class="w-4 h-4 text-gray-500 group-hover:text-cyan-400"></i>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="border-t border-gray-800 mt-8 pt-8 text-center">
                    <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                        <div class="text-gray-400 text-sm">
                            Built with passion by Wanga Elijah ‚Ä¢ Version 2.0.0
                        </div>
                        <div class="flex items-center space-x-4">
                            <a href="/privacy" class="text-sm text-gray-400 hover:text-white">Privacy</a>
                            <a href="/terms" class="text-sm text-gray-400 hover:text-white">Terms</a>
                            <a href="/security" class="text-sm text-gray-400 hover:text-white">Security</a>
                            <a href="/status" class="text-sm text-gray-400 hover:text-white">Status</a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('dashboardApp', () => ({
                // State
                serverStatus: 'Online',
                responseTime: 0,
                ramUsage: 0,
                ramUsed: 0,
                ramTotal: 512,
                ramRemaining: 0,
                uptime: { days: '00', hours: '00', minutes: '00', seconds: '00' },
                apiRequests: 0,
                userLocation: {},
                userIp: 'Detecting...',
                userISP: '',
                userTimeZone: '',
                deviceInfo: {},
                batteryLevel: 100,
                batteryCharging: false,
                currentTime: { time: '00:00:00', date: 'Loading...' },
                networkOnline: true,
                networkLatency: 0,
                startTime: Date.now(),

                // Initialize
                async init() {
                    lucide.createIcons();
                    
                    // Start timers
                    this.startTime = Date.now();
                    this.updateCurrentTime();
                    this.updateUptime();
                    
                    // Load initial data
                    await this.loadServerStats();
                    await this.detectLocation();
                    await this.detectDevice();
                    await this.getBatteryStatus();
                    this.checkNetwork();
                    
                    // Initialize Firebase
                    await this.initFirebase();
                    
                    // Start intervals
                    setInterval(() => this.updateCurrentTime(), 1000);
                    setInterval(() => this.updateUptime(), 1000);
                    setInterval(() => this.loadServerStats(), 30000);
                    setInterval(() => this.checkNetwork(), 5000);
                    setInterval(() => this.simulateAPIRequests(), 10000);
                },

                // Firebase initialization
                async initFirebase() {
                    if (window.firebaseDB) {
                        try {
                            const statsRef = window.firebaseRef(window.firebaseDB, 'stats/apiRequests');
                            window.firebaseOnValue(statsRef, (snapshot) => {
                                const data = snapshot.val();
                                if (data && data.total) {
                                    this.apiRequests = data.total;
                                }
                            });
                            
                            // Initialize if not exists
                            if (!this.apiRequests) {
                                await window.firebaseSet(statsRef, { total: 0, lastUpdated: new Date().toISOString() });
                            }
                        } catch (error) {
                            console.warn('Firebase error:', error);
                        }
                    }
                },

                // Update API request count
                async incrementAPIRequests() {
                    if (window.firebaseDB) {
                        try {
                            const statsRef = window.firebaseRef(window.firebaseDB, 'stats/apiRequests');
                            await window.firebaseUpdate(statsRef, {
                                total: window.firebaseIncrement(1),
                                lastUpdated: new Date().toISOString()
                            });
                        } catch (error) {
                            console.warn('Firebase update error:', error);
                        }
                    }
                },

                // Simulate API requests for demo
                simulateAPIRequests() {
                    const randomIncrement = Math.floor(Math.random() * 5) + 1;
                    this.apiRequests += randomIncrement;
                    this.incrementAPIRequests();
                },

                // Load server statistics
                async loadServerStats() {
                    try {
                        const start = Date.now();
                        const response = await fetch('/health');
                        const data = await response.json();
                        const end = Date.now();
                        
                        this.responseTime = end - start;
                        this.serverStatus = data.status || 'Online';
                        
                        if (data.memory) {
                            const rssMB = Math.round(data.memory.rss / 1024 / 1024);
                            const heapUsedMB = Math.round(data.memory.heapUsed / 1024 / 1024);
                            const heapTotalMB = Math.round(data.memory.heapTotal / 1024 / 1024);
                            
                            this.ramUsed = heapUsedMB;
                            this.ramTotal = heapTotalMB;
                            this.ramRemaining = heapTotalMB - heapUsedMB;
                            this.ramUsage = Math.round((heapUsedMB / heapTotalMB) * 100);
                        }
                    } catch (error) {
                        this.serverStatus = 'Offline';
                        this.responseTime = 999;
                    }
                },

                // Update current time
                updateCurrentTime() {
                    const now = new Date();
                    this.currentTime = {
                        time: now.toLocaleTimeString('en-US', { hour12: false }),
                        date: now.toLocaleDateString('en-US', { 
                            weekday: 'long', 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        })
                    };
                },

                // Update uptime counter
                updateUptime() {
                    const elapsed = Date.now() - this.startTime;
                    const seconds = Math.floor(elapsed / 1000);
                    
                    this.uptime = {
                        days: String(Math.floor(seconds / 86400)).padStart(2, '0'),
                        hours: String(Math.floor((seconds % 86400) / 3600)).padStart(2, '0'),
                        minutes: String(Math.floor((seconds % 3600) / 60)).padStart(2, '0'),
                        seconds: String(seconds % 60).padStart(2, '0')
                    };
                },

                // Reset uptime
                resetUptime() {
                    this.startTime = Date.now();
                    this.updateUptime();
                },

                // Detect user location
                async detectLocation() {
                    try {
                        const response = await fetch('https://ipapi.co/json/');
                        const data = await response.json();
                        
                        this.userLocation = {
                            city: data.city,
                            region: data.region,
                            country: data.country_name,
                            country_code: data.country_code
                        };
                        this.userIp = data.ip;
                        this.userISP = data.org;
                        this.userTimeZone = data.timezone;
                    } catch (error) {
                        this.userLocation = { city: 'Unknown', country: 'Unknown' };
                        this.userIp = '127.0.0.1';
                    }
                },

                // Detect device information
                async detectDevice() {
                    const ua = navigator.userAgent;
                    let browser = 'Unknown';
                    let os = 'Unknown';
                    let platform = 'Unknown';
                    
                    // Detect browser
                    if (ua.includes('Chrome')) browser = 'Chrome';
                    else if (ua.includes('Firefox')) browser = 'Firefox';
                    else if (ua.includes('Safari')) browser = 'Safari';
                    else if (ua.includes('Edge')) browser = 'Edge';
                    
                    // Detect OS
                    if (ua.includes('Windows')) os = 'Windows';
                    else if (ua.includes('Mac')) os = 'macOS';
                    else if (ua.includes('Linux')) os = 'Linux';
                    else if (ua.includes('Android')) os = 'Android';
                    else if (ua.includes('iOS')) os = 'iOS';
                    
                    // Detect platform
                    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {
                        platform = 'Mobile';
                    } else {
                        platform = 'Desktop';
                    }
                    
                    this.deviceInfo = { browser, os, platform };
                },

                // Get battery status
                async getBatteryStatus() {
                    if ('getBattery' in navigator) {
                        try {
                            const battery = await navigator.getBattery();
                            this.batteryLevel = Math.round(battery.level * 100);
                            this.batteryCharging = battery.charging;
                            
                            battery.addEventListener('levelchange', () => {
                                this.batteryLevel = Math.round(battery.level * 100);
                            });
                            
                            battery.addEventListener('chargingchange', () => {
                                this.batteryCharging = battery.charging;
                            });
                        } catch (error) {
                            console.warn('Battery API not supported');
                        }
                    }
                },

                // Check network status
                async checkNetwork() {
                    this.networkOnline = navigator.onLine;
                    
                    if (this.networkOnline) {
                        try {
                            const start = Date.now();
                            await fetch('https://api-megan.onrender.com/health', { 
                                method: 'HEAD',
                                cache: 'no-cache'
                            });
                            this.networkLatency = Date.now() - start;
                        } catch (error) {
                            this.networkLatency = 999;
                        }
                    }
                },

                // Toggle dark mode
                toggleDarkMode() {
                    const html = document.documentElement;
                    html.classList.toggle('dark');
                    
                    const isDark = html.classList.contains('dark');
                    localStorage.setItem('darkMode', isDark);
                },

                // Glass card class
                glassCard: 'backdrop-blur-xl bg-gray-900/30 border border-gray-700/50 rounded-2xl p-6 shadow-2xl hover:shadow-3xl hover:border-gray-600/50 transition-all duration-300'
            }));
        });
    </script>
</body>
</html>